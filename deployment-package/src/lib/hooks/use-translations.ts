import { useLanguage } from '../contexts/language-context';

// Translation hook that prefers context translations and falls back to internal defaults
export function useTranslations() {
  const { currentLanguage, t: contextT, setLanguage, languageNames } = useLanguage();
  
  // Fallback translations for common UI elements
  const fallbackTranslations: Record<string, Record<string, string>> = {
    en: {
      dashboard: "Dashboard",
      onlineOrders: "Online Orders",
      cash: "Cash",
      tasks: "Tasks",
      staff: "Staff",
      recipes: "Recipes",
      staffMeal: "Staff Meal",
      disposal: "Disposal",
      issues: "Issues",
      purchaseList: "Purchase List",
      skills: "Skills",
      suppliers: "Suppliers",
      salary: "Salary",
      reports: "Reports",
      leaderboard: "Leaderboard",
      notifications: "Notifications",
      search: "Search",
      more: "More",
      typeToSearch: "Type to search...",
      quickAccess: "Quick Access",
      allFeatures: "All Features",
      accessAllSectionsOfMakanMomentsCafe: "Access all sections of Makan Moments Cafe",
      noResultsFoundFor: "No results found for",
      searchForPagesOrdersStaffRecipesAndMore: "Search for pages, orders, staff, recipes, and more",
      operations: "Operations",
      staffManagement: "Staff Management",
      kitchenAndInventory: "Kitchen & Inventory",
      issuesAndReports: "Issues & Reports",
      overviewAndQuickActions: "Overview and quick actions",
      manageCustomerOrders: "Manage customer orders",
      cashReconciliation: "Cash reconciliation",
      taskManagement: "Task management",
      fullCrudOperationsForTasks: "Full CRUD operations for tasks",
      staffDirectory: "Staff Directory",
      performanceRankings: "Performance rankings",
      skillsMatrix: "Skills Matrix",
      staffSkillsTracking: "Staff skills tracking",
      payrollAndSalaryManagement: "Payroll and salary management",
      recipeManagement: "Recipe management",
      staffMealTracking: "Staff meal tracking",
      inventoryAndPurchasing: "Inventory and purchasing",
      supplierManagement: "Supplier management",
      wasteTracking: "Waste tracking",
      issueReportingAndTracking: "Issue reporting and tracking",
      discipline: "Discipline",
      disciplinaryActions: "Disciplinary actions",
      analyticsAndReports: "Analytics and reports",
      admin: "Admin",
      systemAdministration: "System administration",
    },
    id: {
      dashboard: "Dasbor",
      onlineOrders: "Pesanan Online",
      cash: "Kas",
      tasks: "Tugas",
      staff: "Staf",
      recipes: "Resep",
      staffMeal: "Makanan Staf",
      disposal: "Pembuangan",
      issues: "Masalah",
      purchaseList: "Daftar Pembelian",
      skills: "Keahlian",
      suppliers: "Pemasok",
      salary: "Gaji",
      reports: "Laporan",
      leaderboard: "Papan Peringkat",
      notifications: "Notifikasi",
      search: "Cari",
      more: "Lainnya",
      typeToSearch: "Ketik untuk mencari...",
      quickAccess: "Akses Cepat",
      allFeatures: "Semua Fitur",
      accessAllSectionsOfMakanMomentsCafe: "Akses semua bagian dari Makan Moments Cafe",
      noResultsFoundFor: "Tidak ada hasil ditemukan untuk",
      searchForPagesOrdersStaffRecipesAndMore: "Cari halaman, pesanan, staf, resep, dan lainnya",
      operations: "Operasi",
      staffManagement: "Manajemen Staf",
      kitchenAndInventory: "Dapur & Inventaris",
      issuesAndReports: "Masalah & Laporan",
      overviewAndQuickActions: "Ikhtisar dan aksi cepat",
      manageCustomerOrders: "Kelola pesanan pelanggan",
      cashReconciliation: "Rekonsiliasi kas",
      taskManagement: "Manajemen tugas",
      fullCrudOperationsForTasks: "Operasi CRUD lengkap untuk tugas",
      staffDirectory: "Direktori Staf",
      performanceRankings: "Peringkat kinerja",
      skillsMatrix: "Matriks Keterampilan",
      staffSkillsTracking: "Pelacakan keterampilan staf",
      payrollAndSalaryManagement: "Manajemen penggajian dan gaji",
      recipeManagement: "Manajemen resep",
      staffMealTracking: "Pelacakan makanan staf",
      inventoryAndPurchasing: "Inventaris dan pembelian",
      supplierManagement: "Manajemen pemasok",
      wasteTracking: "Pelacakan limbah",
      issueReportingAndTracking: "Pelaporan dan pelacakan masalah",
      discipline: "Disiplin",
      disciplinaryActions: "Tindakan disipliner",
      analyticsAndReports: "Analitik dan laporan",
      admin: "Admin",
      systemAdministration: "Administrasi sistem",
    },
    vi: {
      dashboard: "Bảng điều khiển",
      onlineOrders: "Đơn hàng trực tuyến",
      cash: "Tiền mặt",
      tasks: "Nhiệm vụ",
      staff: "Nhân viên",
      recipes: "Công thức",
      staffMeal: "Bữa ăn nhân viên",
      disposal: "Xử lý",
      issues: "Vấn đề",
      purchaseList: "Danh sách mua hàng",
      skills: "Kỹ năng",
      suppliers: "Nhà cung cấp",
      salary: "Lương",
      reports: "Báo cáo",
      leaderboard: "Bảng xếp hạng",
      notifications: "Thông báo",
      search: "Tìm kiếm",
      more: "Thêm",
      typeToSearch: "Gõ để tìm kiếm...",
      quickAccess: "Truy cập nhanh",
      allFeatures: "Tất cả tính năng",
      accessAllSectionsOfMakanMomentsCafe: "Truy cập tất cả các phần của Makan Moments Cafe",
      noResultsFoundFor: "Không tìm thấy kết quả cho",
      searchForPagesOrdersStaffRecipesAndMore: "Tìm kiếm trang, đơn hàng, nhân viên, công thức và nhiều hơn nữa",
      operations: "Hoạt động",
      staffManagement: "Quản lý nhân viên",
      kitchenAndInventory: "Bếp & Kho",
      issuesAndReports: "Vấn đề & Báo cáo",
      overviewAndQuickActions: "Tổng quan và hành động nhanh",
      manageCustomerOrders: "Quản lý đơn hàng khách hàng",
      cashReconciliation: "Đối soát tiền mặt",
      taskManagement: "Quản lý nhiệm vụ",
      fullCrudOperationsForTasks: "Thao tác CRUD đầy đủ cho nhiệm vụ",
      staffDirectory: "Danh bạ nhân viên",
      performanceRankings: "Xếp hạng hiệu suất",
      skillsMatrix: "Ma trận kỹ năng",
      staffSkillsTracking: "Theo dõi kỹ năng nhân viên",
      payrollAndSalaryManagement: "Quản lý lương và tiền lương",
      recipeManagement: "Quản lý công thức",
      staffMealTracking: "Theo dõi bữa ăn nhân viên",
      inventoryAndPurchasing: "Kho và mua sắm",
      supplierManagement: "Quản lý nhà cung cấp",
      wasteTracking: "Theo dõi chất thải",
      issueReportingAndTracking: "Báo cáo và theo dõi vấn đề",
      discipline: "Kỷ luật",
      disciplinaryActions: "Hành động kỷ luật",
      analyticsAndReports: "Phân tích và báo cáo",
      admin: "Quản trị",
      systemAdministration: "Quản trị hệ thống",
    },
    my: {
      dashboard: "ဒက်ရှ်ဘုတ်",
      onlineOrders: "အွန်လိုင်းအော်ဒါများ",
      cash: "ငွေသား",
      tasks: "လုပ်ငန်းတာဝန်များ",
      staff: "ဝန်ထမ်းများ",
      recipes: "ချက်ပြုတ်နည်းများ",
      staffMeal: "ဝန်ထမ်းအစားအစာ",
      disposal: "စွန့်ပစ်ခြင်း",
      issues: "ပြဿနာများ",
      purchaseList: "ဝယ်ယူမှုစာရင်း",
      skills: "ကျွမ်းကျင်မှုများ",
      suppliers: "ထောက်ပံ့သူများ",
      salary: "လစာ",
      reports: "အစီရင်ခံစာများ",
      leaderboard: "ထိပ်တန်းစာရင်း",
      notifications: "အကြောင်းကြားချက်များ",
      search: "ရှာဖွေရန်",
      more: "ထပ်မံ",
      typeToSearch: "ရှာဖွေရန် စာရိုက်ပါ...",
      quickAccess: "အမြန်ဝင်ရောက်ရန်",
      allFeatures: "အင်္ဂါရပ်အားလုံး",
      accessAllSectionsOfMakanMomentsCafe: "Makan Moments Cafe ၏ ကဏ္ဍအားလုံးကို ဝင်ရောက်ရန်",
      noResultsFoundFor: "ရလဒ်မတွေ့ရှိပါ",
      searchForPagesOrdersStaffRecipesAndMore: "စာမျက်နှာများ၊ အော်ဒါများ၊ ဝန်ထမ်းများ၊ ချက်ပြုတ်နည်းများနှင့် အခြားအရာများကို ရှာဖွေရန်",
      operations: "လုပ်ငန်းများ",
      staffManagement: "ဝန်ထမ်းစီမံခန့်ခွဲမှု",
      kitchenAndInventory: "မီးဖိုချောင် နှင့် ပစ္စည်းစာရင်း",
      issuesAndReports: "ပြဿနာများ နှင့် အစီရင်ခံစာများ",
      overviewAndQuickActions: "အပေါ်ယံကြည့်ရှုခြင်းနှင့် အမြန်လုပ်ဆောင်ချက်များ",
      manageCustomerOrders: "ဖောက်သည်များ၏ အော်ဒါများကို စီမံခန့်ခွဲခြင်း",
      cashReconciliation: "ငွေသားပြန်လည်ညှိနှိုင်းခြင်း",
      taskManagement: "လုပ်ငန်းတာဝန်စီမံခန့်ခွဲခြင်း",
      fullCrudOperationsForTasks: "လုပ်ငန်းတာဝန်များအတွက် ပြည့်စုံသော CRUD လုပ်ဆောင်ချက်များ",
      staffDirectory: "ဝန်ထမ်းများ၏ စာရင်း",
      performanceRankings: "စွမ်းဆောင်ရည်အဆင့်သတ်မှတ်ချက်များ",
      skillsMatrix: "ကျွမ်းကျင်မှုများ၏ ဇယား",
      staffSkillsTracking: "ဝန်ထမ်းများ၏ ကျွမ်းကျင်မှုများကို ခြေရာခံခြင်း",
      payrollAndSalaryManagement: "လစာနှင့် လုပ်ခလစာစီမံခန့်ခွဲခြင်း",
      recipeManagement: "ချက်ပြုတ်နည်းစီမံခန့်ခွဲခြင်း",
      staffMealTracking: "ဝန်ထမ်းများ၏ အစားအစာခြေရာခံခြင်း",
      inventoryAndPurchasing: "ပစ္စည်းစာရင်းနှင့် ဝယ်ယူခြင်း",
      supplierManagement: "ထောက်ပံ့သူစီမံခန့်ခွဲခြင်း",
      wasteTracking: "အမှိုက်ခြေရာခံခြင်း",
      issueReportingAndTracking: "ပြဿနာများကို သတင်းပို့ခြင်းနှင့် ခြေရာခံခြင်း",
      discipline: "စည်းကမ်း",
      disciplinaryActions: "စည်းကမ်းဆိုင်ရာ လုပ်ဆောင်ချက်များ",
      analyticsAndReports: "ခွဲခြမ်းစိတ်ဖြာခြင်းနှင့် အစီရင်ခံစာများ",
      admin: "အက်ဒမင်",
      systemAdministration: "စနစ်စီမံခန့်ခွဲခြင်း",
    }
  };

  const translate = (key: string): string => {
    const translated = contextT(key as any);
    if (translated && translated !== key) {
      return translated;
    }
    const translations = fallbackTranslations[currentLanguage] || fallbackTranslations.en;
    return translations[key] || key;
  };

  return {
    currentLanguage,
    t: translate,
    setLanguage,
    languageNames,
  };
}
